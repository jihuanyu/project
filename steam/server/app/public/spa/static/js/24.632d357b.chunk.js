(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{465:function(e,t,n){"use strict";var a=n(15),i=n(28),l=n(29),r=n(31),o=n(30),c=n(32),s=(n(458),n(459)),d=n(1),u=n.n(d),p=s.a.Content,h=function(e){function t(){return Object(i.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return u.a.createElement(p,{style:Object(a.a)({background:"#fff",padding:24,margin:0,marginBottom:20,borderRadius:10},this.props.style)},u.a.Children.map(this.props.children,function(e){return e}))}}]),t}(d.Component);t.a=h},819:function(e,t,n){var a=n(820);"string"===typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(57)(a,i);a.locals&&(e.exports=a.locals)},820:function(e,t,n){(e.exports=n(56)(!1)).push([e.i,".role-list {\n  border-right: 1px solid #eee;\n  width: 300px;\n  list-style: none;\n}\n.role-list ul {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  margin-right: 20px;\n}\n.role-list ul li {\n  list-style: none;\n  padding: 10px 20px;\n  margin: 0;\n  position: relative;\n  border-bottom: 1px solid #eee;\n  border-left: 5px solid #fff;\n  transition: all 0.2s;\n}\n.role-list ul li .tool {\n  position: absolute;\n  top: 10px;\n  right: 20px;\n  display: none;\n}\n.role-list ul li:hover {\n  background: #eee;\n}\n.role-list ul li:hover .tool {\n  display: block;\n}\n.role-list ul li.active {\n  background: #bccaff;\n  border-left: 5px solid #0139FD;\n}\n",""])},821:function(e,t,n){e.exports={addModal:"style_addModal__3cFe8",title:"style_title__1lNF4",input:"style_input__2LRrc",content:"style_content__2K7wo",tool:"style_tool__10Atq",roleList:"style_roleList__hEaWi",menuTree:"style_menuTree__13_Is",identityList:"style_identityList__dsBJE",item:"style_item__i86rk"}},881:function(e,t,n){"use strict";n.r(t);n(555);var a,i,l,r,o=n(452),c=(n(568),n(618)),s=(n(431),n(432)),d=n(28),u=n(29),p=n(31),h=n(30),y=n(32),m=n(15),f=(n(779),n(783)),v=n(1),b=n.n(v),E=n(37),_=n.n(E),g=n(75),O=function(e){var t,n;return n=t=function(t){function n(){return Object(d.a)(this,n),Object(p.a)(this,Object(h.a)(n).apply(this,arguments))}return Object(y.a)(n,t),Object(u.a)(n,[{key:"render",value:function(){var t=this,n=Object(m.a)({},this.props);return n.ref=function(e){t.props.wrappedComponentRef&&t.props.wrappedComponentRef(e),t.props.ref&&t.props.ref(e)},b.a.createElement(e,n)}}]),n}(v.Component),t.displayName="withRef(".concat(e.displayName||e.name||"Component",")"),n},j=n(149),k=n(465),C=(n(819),n(821)),w=n.n(C),x=f.a.TabPane,A=function(e){return Object(m.a)({},e.role,e.global)},I=Object(g.connect)(A)(a=O(a=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleOk=function(){console.log();var e=n.refs.roleInput.value;n.props.dispatch({type:"role/addRole",identity_text:e}).then(function(){console.log("\u6dfb\u52a0\u6210\u529f")}),n.setState({visible:!1})},n.handleCancel=function(e){console.log("\u53d6\u6d88"),n.setState({visible:!1})},n.type={CREATE:Symbol("create"),MODIFY:Symbol("modify")},n.state={type:n.type.CREATE,visible:!1},n}return Object(y.a)(t,e),Object(u.a)(t,[{key:"create",value:function(){this.setState({type:this.type.CREATE,visible:!0})}},{key:"edit",value:function(){this.setState({type:this.type.MODIFY,visible:!0})}},{key:"render",value:function(){return b.a.createElement(c.a,{visible:this.state.visible,width:600,footer:[b.a.createElement(s.a,{size:"large",key:"save",type:"primary",onClick:this.handleOk},"\u786e\u5b9a"),b.a.createElement(s.a,{size:"large",key:"cancel",onClick:this.handleCancel},"\u53d6\u6d88")],bodyStyle:{padding:"24px 80px"}},b.a.createElement("div",{className:w.a.addModal},b.a.createElement("h2",{className:w.a.title},this.state.type===this.type.CREATE?"\u521b\u5efa\u65b0\u89d2\u8272":"\u4fee\u6539\u89d2\u8272\u540d\u79f0"),b.a.createElement("div",null,b.a.createElement("input",{type:"text",ref:"roleInput",className:w.a.input,placeholder:"\u8bf7\u8f93\u5165\u89d2\u8272\u540d\u79f0"}))))}}]),t}(v.Component))||a)||a,N=Object(g.connect)(A)(i=O(i=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleOk=function(){var e=n.refs.roleInput.value;n.props.dispatch({type:"role/addRole",identity_text:e}).then(function(){console.log("\u6dfb\u52a0\u6210\u529f")}),n.setState({visible:!1})},n.handleCancel=function(e){console.log("\u53d6\u6d88"),n.setState({visible:!1})},n.state={visible:!1,identity:{}},n}return Object(y.a)(t,e),Object(u.a)(t,[{key:"edit",value:function(e){console.log(e),this.setState({visible:!0,identity:e})}},{key:"render",value:function(){var e=this.state.identity.identity_text;return b.a.createElement(c.a,{visible:this.state.visible,width:600,footer:[b.a.createElement(s.a,{size:"large",key:"save",type:"primary",onClick:this.handleOk},"\u786e\u5b9a"),b.a.createElement(s.a,{size:"large",key:"cancel",onClick:this.handleCancel},"\u53d6\u6d88")],bodyStyle:{padding:"24px 80px"}},b.a.createElement("div",{className:w.a.addModal},b.a.createElement("h2",{className:w.a.title},"\u8bbe\u7f6e",e,"\u63a5\u53e3\u6743\u9650"),b.a.createElement("div",null)))}}]),t}(v.Component))||i)||i,S=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).handleCreate=function(){n.addModal.create()},n.handleEdit=function(){n.addModal.edit()},n.handleChange=function(e){n.props.onChange(e)},n}return Object(y.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.dataSource;return b.a.createElement("div",{className:"role-list"},b.a.createElement("ul",null,t.map(function(t,n){return b.a.createElement("li",{key:n,onClick:function(){return e.handleChange(t.identity_id)},className:_()({active:e.props.identity_id===t.identity_id})},b.a.createElement("div",null,b.a.createElement("h3",null,t.identity_text),b.a.createElement("p",null,t.identity_id)),b.a.createElement("div",{className:"tool"},b.a.createElement("a",{href:"javascript:;"},"\u5220\u9664")))}),b.a.createElement("li",null,b.a.createElement("a",{href:"javascript:;",onClick:this.handleCreate},"\u6dfb\u52a0\u89d2\u8272"))),b.a.createElement(I,{wrappedComponentRef:function(t){return e.addModal=t}}))}}]),t}(v.Component);S.defaultProps={dataSource:[],identity_id:""};var M=Object(g.connect)(A)(l=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).handleChange=function(e){console.log(e.target),n.props.dispatch({type:"role/setIdentityView",view_authority_id:e.target.value,identity_id:n.props.identity_id})},n}return Object(y.a)(t,e),Object(u.a)(t,[{key:"isAuthority",value:function(e){var t=this.props.viewFromIdentity,n=!1;return t.forEach(function(t){t.view_id===e&&(n=!0)}),n}},{key:"getViewAuthorityId",value:function(e){var t=this.props.view_authority,n="";return t.forEach(function(t){t.view_id===e&&(n=t.view_authority_id)}),n}},{key:"renderIdentityList",value:function(e){var t=this;return b.a.createElement("ul",{className:w.a.identityList},e.map(function(e,n){return b.a.createElement("li",{key:n,className:w.a.item},console.log(t.getViewAuthorityId(e.id),e.id,"iddddddddd"),b.a.createElement(o.a,{checked:t.isAuthority(e.id),value:t.getViewAuthorityId(e.id),onChange:t.handleChange},e.text))}))}},{key:"render",value:function(){var e=this,t=Object(j.b)();return b.a.createElement("div",null,t.map(function(t,n){return b.a.createElement("div",{className:w.a.menuTree,key:n},b.a.createElement("h4",{className:w.a.title},t.groupName),e.renderIdentityList(t.children))}))}}]),t}(v.Component))||l,R=function(e){var t=e.identity_id;return b.a.createElement(f.a,null,b.a.createElement(x,{tab:"\u89c6\u56fe\u6743\u9650",key:"1"},b.a.createElement(M,{identity_id:t})),b.a.createElement(x,{tab:"\u63a5\u53e3\u6743\u9650",key:"2"},"Content of tab 2"))},F=Object(g.connect)(A)(r=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleCreate=function(){n.addModal.create()},n.handleEdit=function(){n.addModal.edit()},n.handleEditAuthorityApiModal=function(e){n.editAuthorityApiModal.edit(e)},n.handleChangeIdentity=function(e){console.log(e),n.setState({identity_id:e},function(){n.props.dispatch({type:"role/getViewFromIdentity",identity_id:e})})},n.state={identity_id:""},console.log(n.props),n}return Object(y.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.dispatch({type:"role/fetch"}).then(function(){e.setState({identity_id:e.props.table.data[0].identity_id}),e.props.dispatch({type:"role/getViewFromIdentity",identity_id:e.state.identity_id})})}},{key:"addRole",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.table,n=this.state.identity_id;return b.a.createElement(k.a,null,b.a.createElement(b.a.Fragment,null,b.a.createElement("div",{className:w.a.content},b.a.createElement(S,{dataSource:t.data,identity_id:n,onChange:this.handleChangeIdentity}),b.a.createElement("div",{className:w.a.tool},b.a.createElement(R,{identity_id:n})))),b.a.createElement(N,{wrappedComponentRef:function(t){return e.editAuthorityApiModal=t}}))}}]),t}(v.Component))||r;t.default=F}}]);
//# sourceMappingURL=24.632d357b.chunk.js.map